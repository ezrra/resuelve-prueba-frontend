{"version":3,"sources":["Components/Title/index.js","assets/images/film-poster-placeholder.png","Components/Film/index.js","i18n.js","Components/Films/index.js","Components/Error/Error.js","service.js","Components/SearchField/index.js","utils.js","Pages/Films/Films.js","App.js","index.js"],"names":["Title","title","className","Film","film","showShimmer","height","width","producer","src","placeholderImage","alt","i18n","films","noRecords","results","searchField","search","Films","loading","Data","shimmerList","count","push","length","map","key","Error","text","getFilms","a","fetch","process","response","json","data","error","SearchField","suggestions","handleSearch","useState","setSearch","filteredSuggestions","setFilteredSuggestions","showSuggestions","setShowSuggestions","activeSuggestion","setActiveSuggestion","Suggestions","handleSuggestionSelected","event","currentTarget","innerText","classNameSuggestion","suggestion","onClick","onSubmit","preventDefault","disabled","onKeyDown","keyCode","selectedSuggestion","onChange","textInput","target","value","array","filter","item","RegExp","test","filterArrayByText","placeholder","setError","setFilms","filteredFilms","setFilteredFilms","setLoading","setSuggestions","useEffect","property","filterObjectArrayByText","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5ab65e68.chunk.js","sourcesContent":["import React from 'react';\nimport './Title.css';\n\nconst Title = ({ title }) => {\n  return <h2 className=\"Title\">{title}</h2>;\n}\n\nexport default Title;\n","export default __webpack_public_path__ + \"static/media/film-poster-placeholder.9a8182eb.png\";","import React from 'react';\nimport { Shimmer } from 'react-shimmer';\nimport './Film.css';\nimport placeholderImage from '../../assets/images/film-poster-placeholder.png';\n\nconst Film = ({ film, showShimmer }) => {\n  if (showShimmer) {\n    return <div className=\"Film-content\"><Shimmer height={300} width={200} /></div>;\n  }\n\n  const { title, producer } = film;\n\n  return (\n    <div className=\"Film-content\">\n      <img className=\"Film-image\" src={placeholderImage} alt=\"Film\" />\n      <h4 className=\"Film-title\">{title}</h4>\n      <h5 className=\"Film-director\">{producer}</h5>\n    </div>\n  )\n}\n\nexport default Film;\n","const i18n = {\n  films: {\n    title: 'Films',\n    noRecords: 'No records',\n    results: 'Results',\n  },\n  searchField: {\n    search: 'Search',\n  },\n};\n\nexport default i18n;\n","import React from 'react';\nimport './Films.css';\nimport Film from '../Film';\nimport i18n from '../../i18n';\n\nconst SHIMMER_FILMS_COUNT = 5;\n\nconst Films = ({ films, loading }) => {\n  const Data = () => {\n    if (loading) {\n      let shimmerList = [];\n\n      for (let count = 0; count < SHIMMER_FILMS_COUNT; count++) {\n        shimmerList.push(<Film key={count} showShimmer />);\n      }\n\n      return shimmerList;\n    }\n\n    if (films.length === 0) {\n      return <div>{i18n.films.noRecords}</div>;\n    }\n\n    return (\n      films.map((film, key) => <Film key={key} film={film} />)\n    )\n  }\n\n  return (\n    <div className=\"List-content\">\n      <div className=\"Results-content\">\n        <span>{i18n.films.results}: {films.length}</span>\n      </div>\n      <Data />\n    </div>\n  )\n}\n\nexport default Films;\n","import React from 'react';\nimport './Error.css';\n\nconst Error = ({ text }) => {\n  if (!text) {\n    return null;\n  }\n\n  return <div className=\"Error-content\">{text}</div>;\n}\n\nexport default Error;\n","const API_URL = process.env.REACT_APP_API_URL;\n\nexport const getFilms = async () => {\n  try {\n    const response = await fetch(`${API_URL}/films`);\n    const data = await response.json();\n\n    return { data };\n  } catch (err) {\n    return { error: `Error: ${err}` };\n  }\n};\n","import React, { useState } from 'react';\nimport './SearchField.css';\nimport i18n from '../../i18n';\nimport { filterArrayByText } from '../../utils';\n\nconst PRESS_ENTER_CODE = 13;\nconst PRESS_DOWN_CODE = 40;\nconst PRESS_UP_CODE = 38;\nconst PRESS_ESCAPE = 27;\n\nconst SearchField = ({ suggestions, handleSearch, loading }) => {\n  const [search, setSearch] = useState('');\n  const [filteredSuggestions, setFilteredSuggestions] = useState([]);\n  const [showSuggestions, setShowSuggestions] = useState(false);\n  const [activeSuggestion, setActiveSuggestion] = useState(0);\n\n  const Suggestions = () => {\n    const handleSuggestionSelected = (event) => {\n      setShowSuggestions(false);\n      setSearch(event.currentTarget.innerText);\n      handleSearch(event.currentTarget.innerText)\n    }\n\n    if (!showSuggestions || suggestions.length === 0 || filteredSuggestions.length === 0) {\n      return null;\n    }\n\n    const classNameSuggestion = (key) => {\n      if (activeSuggestion === key) {\n        return 'Suggestion-active';\n      }\n\n      return null;\n    };\n\n    return (\n      <ul className=\"Suggestion-list\">\n        {filteredSuggestions.map((suggestion, key) => (\n          <li\n            className={classNameSuggestion(key)}\n            onClick={handleSuggestionSelected}\n            key={key}\n          >\n            {suggestion}\n          </li>\n        ))}\n      </ul>\n    );\n  };\n\n  const handleSubmit = (event) => {\n    handleSearch(search);\n\n    event.preventDefault();\n  };\n\n  const handleKeyDown = (event) => {\n    if (!showSuggestions) {\n      return false;\n    }\n\n    if (event.keyCode === PRESS_ESCAPE) {\n      setShowSuggestions(false);\n    }\n\n    if (event.keyCode === PRESS_DOWN_CODE\n      && activeSuggestion !== filteredSuggestions.length) {\n      setActiveSuggestion(activeSuggestion + 1);\n    }\n\n    if (event.keyCode === PRESS_UP_CODE && activeSuggestion >= 0) {\n      setActiveSuggestion(activeSuggestion - 1);\n    }\n\n    if (event.keyCode === PRESS_ENTER_CODE) {\n      setShowSuggestions(false);\n      const selectedSuggestion = filteredSuggestions[activeSuggestion];\n\n      if (selectedSuggestion) {\n        setSearch(selectedSuggestion);\n      }\n    }\n  };\n\n  const handleChange = (event) => {\n    const textInput = event.target.value;\n\n    setShowSuggestions(textInput.length > 0);\n\n    setSearch(event.target.value);\n\n    const filteredSuggestions = filterArrayByText({ array: suggestions, text: textInput });\n\n    setFilteredSuggestions(filteredSuggestions);\n\n    setActiveSuggestion(0);\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <input\n        disabled={loading}\n        onKeyDown={handleKeyDown}\n        className=\"Search-field\"\n        onChange={handleChange}\n        placeholder={i18n.searchField.search}\n        value={search}\n      />\n\n      <Suggestions />\n    </form>\n  )\n}\n\nexport default SearchField;\n","export const filterArrayByText = ({ array, text }) => {\n  return array.filter(item => new RegExp(text, 'i').test(item));\n};\n\nexport const filterObjectArrayByText = ({ array, text, property }) => {\n  return array.filter(item => new RegExp(text, 'i').test(item[property]));\n};\n","import React, { useState, useEffect } from 'react';\nimport Title from '../../Components/Title';\nimport FilmList from '../../Components/Films';\nimport Error from '../../Components/Error/Error';\nimport { getFilms } from '../../service';\nimport SearchField from '../../Components/SearchField';\nimport i18n from '../../i18n';\nimport { filterObjectArrayByText } from '../../utils';\n\nconst Films = () => {\n  const [error, setError] = useState('');\n  const [films, setFilms] = useState([]);\n  const [filteredFilms, setFilteredFilms] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [suggestions, setSuggestions] = useState([]);\n\n  const searchFilms = (search) => {\n    if (!search) {\n      setFilteredFilms(films);\n\n      return false;\n    }\n\n    const filteredFilms = filterObjectArrayByText({\n      text: search,\n      array: films,\n      property: 'title',\n    });\n\n    setFilteredFilms(filteredFilms);\n  };\n\n  useEffect(() => {\n    (async () => {\n      setLoading(true)\n      const { error, data } = await getFilms();\n\n      if (error) {\n        setError(error);\n      }\n\n      if (data && data.length) {\n        const suggestions = data.map((film) => film.title);\n\n        setFilms(data);\n        setFilteredFilms(data);\n        setSuggestions(suggestions);\n      }\n\n      setLoading(false)\n    })();\n  }, []);\n\n  return (\n    <>\n      <Title title={i18n.films.title} />\n      <Error text={error} />\n      <SearchField loading={loading} suggestions={suggestions} handleSearch={searchFilms} />\n      <FilmList loading={loading} films={filteredFilms} />\n    </>\n  )\n}\n\nexport default Films;\n","import './App.css';\nimport FilmsPage from './Pages/Films/Films';\n\nfunction App() {\n  return (\n    <div className=\"App-container\">\n      <FilmsPage />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}